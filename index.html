<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <h2>covid19 vaccine Tracker</h2><br>
        <h4> - Govind Deshmukh</h4><br>
        <div class="container">
            <label>Enter Pincode of your area :</label><br>
            <input type="text" name="pincode" id="pincode" placeholder="xxxxxx"><br>
            <label>Enter date :</label><br>
            <input type="text" name="date" id="date" placeholder="(dd-mm-yyyy)"><br>
            <button id="submit">Submit</button>

        </div><br><br><br>


        <div id="monitor_data">
    
            <table class="table" id="table">

                <tr id="id">
                    <td>ID</td>
                </tr>
                <tr id="name">
                    <td>Name</td>
                </tr>
                <tr id="addr">
                    <td>Address</td>
                </tr>
                <tr id="fee">
                    <td>Fee</td>
                </tr>


                <tr id="state">
                    <td>State</td>
                </tr>
                <tr id="dist">
                    <td>District</td>
                </tr>
                <tr id="dose1">
                    <td>Avilability Dose1 </td>
                </tr>
                <tr id="dose2">
                    <td>Avilability Dose2 </td>
                </tr>

            </table>
        </div>
        

        <!-- <script src="jquery-3.5.1.min.js"></script> -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            $("#submit").click(function(){
                pin = $("#pincode").val();
                date =$("#date").val();
                var pt1 = "https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=";
                var pt2 = "&date=";
                var link = pt1+pin+pt2+date;
                console.log("your search link api : ")
                console.log(link);
    
                $.get(link, {name:'link'}, function (data, textStatus, jqXHR) {
                    // print data in table here
                    var len = data.centers.length;

                    for(var i =0 ; i< len;i++){
                        // $('#monitor_data').append(JSON.stringify(data));
                        $('#id').append(JSON.stringify(data.centers[i].center_id));
                        $('#name').append(JSON.stringify(data.centers[i].name));
                        $('#fee').append(JSON.stringify(data.centers[i].fee_type));
                        $('#addr').append(JSON.stringify(data.centers[i].address));

                        $('#state').append(JSON.stringify(data.centers[i].state_name));
                        $('#dist').append(JSON.stringify(data.centers[i].district_name));
                        $('#dose1').append(JSON.stringify(data.centers[i].sessions[0].available_capacity_dose1));
                        $('#dose2').append(JSON.stringify(data.centers[i].sessions[0].available_capacity_dose2));


                    }

                });



            })
        </script>
        <script src="main.js"></script>

    </body>
</html>



<!-- 

var len = data.centers.length;

$('#monitor_data').append(JSON.stringify(data.centers[4]));

console.log(len); -->